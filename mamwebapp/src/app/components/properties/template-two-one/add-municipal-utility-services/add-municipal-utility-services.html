<div class="ui-g ui-fluid">
    <form [formGroup]="municipalUtilityServiceForm" style="width: 100%;">
        <div class="ui-g-12 ui-md-12">
            <div class="ui-g-6 ui-md-6">
                <label for="town">Name:</label>
                <p-dropdown inputId="name" [options]="names" formControlName="name" placeholder="Please select" optionLabel="name"></p-dropdown>
            </div>
            <div class="ui-g-4 ui-md-4">
                <label for="town">Cost:</label>
                <p-inputNumber formControlName="cost" mode="currency" currency="ZAR" locale="en-ZA"></p-inputNumber>
            </div>
            <div class="ui-g-2 ui-md-2" style="float: right;">
                <button style="width: fit-content;float: right;margin-top: 18px;" (click)="addMunicipalUtilityService()" pButton pRipple type="button" icon="pi pi-plus" iconPos="left" class="p-button-rounded btn-add" label="Add"></button>
            </div>
        </div>
    </form>

    <p-table styleClass="p-datatable-striped" [value]="municipalUtilityServices" [responsive]="true">
        <ng-template pTemplate="header">
            <tr>
                <th>Name</th>   
                <th style="width: 30%;">Cost</th>
                <th style="width: 10%;"></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-municipalUtilityService let-index="rowIndex">
            <tr>
                <td>{{municipalUtilityService.name}}</td>
                <td>{{municipalUtilityService.cost | currency:'ZAR':'R'}}</td>
                <td style="text-align: center;" *ngIf="municipalUtilityServices.length > 0">
                    <button (click)="deleteMunicipalUtilityService(index)" pButton pRipple type="button" icon="pi pi-trash" class="p-button-outlined button-outlined" ></button>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="footer">
            <tr>      
                <td></td>          
                <td style="float: left;">Total: {{sum() | currency:'ZAR':'R'}}</td>
                <td></td>
            </tr>
        </ng-template>
    </p-table>
</div>
<p-footer>
    <div>
        <button style="float: left; margin-top: 15px;" type="button" pButton 
        (click)="cancel()" label="Cancel" class="ui-button-secondary"></button>
        <button style="float: right; margin-top: 15px" type="button" (click)="onSubmit()" pButton
         label="Submit"></button>
    </div>
</p-footer>